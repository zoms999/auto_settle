네, 알겠습니다. auto_settle 프로젝트의 기획 및 설계를 사용자 인증(회원가입/로그인) 기능을 포함하고, 엑셀의 편리함을 웹 환경에서 재현하는 데 초점을 맞춰 다시 제안해 드리겠습니다.

프로젝트 auto_settle 기획 및 설계 제안서 (v2.0)
1. 프로젝트 개요

프로젝트명: auto_settle

핵심 목표:

단체팀의 계약 및 매출 관리 업무를 엑셀에서 웹 애플리케이션으로 전환.

엑셀의 직관적인 데이터 입력 및 실시간 계산 경험을 유지하면서, 시스템화를 통해 자동화 및 협업 효율을 극대화.

보안을 위해 사용자 인증 기능을 도입하여 허가된 담당자만 접근 가능하도록 함.

기술 스택:

Frontend: Next.js (React)

Backend: Next.js (API Routes)

Database: PostgreSQL

ORM: Prisma (DB 연동 및 타입 안정성 강화)

2. 핵심 기능 정의

사용자 인증 (신규)

회원가입 페이지: 이름, 이메일, 비밀번호를 입력하여 계정을 생성.

로그인 페이지: 이메일, 비밀번호로 로그인.

세션 관리: JWT(JSON Web Token)를 사용한 안전한 인증 상태 유지.

접근 제어: 로그인한 사용자만 계약 데이터에 접근 가능.

계약(Deal) 관리 보드

메인 화면: 엑셀 시트처럼 계약 목록을 한눈에 볼 수 있는 그리드(Grid) 형태의 UI를 제공.

상태별 탭: 가망, 진행중, 이월, 완료 등 상태별로 계약을 필터링하는 탭 기능.

인라인 편집(Inline Editing): 단체명, 담당자 등 간단한 텍스트 필드는 그리드에서 바로 수정 가능하도록 하여 엑셀의 사용성을 재현.

실시간 검색 및 필터링: 단체명, 담당자 등으로 즉시 검색하고, 기간별로 필터링하는 기능.

계약 상세 관리 (동적 폼)

그리드의 특정 계약을 클릭하면, 상세 내용을 관리하는 모달(Modal) 또는 상세 페이지로 이동.

동적 서비스 폼: 진행 프로그램 체크리스트(검사, 강연 등)를 선택하면 해당 서비스의 상세 정보 입력 폼이 즉시 나타남.

실시간 자동 계산: 서비스별 비용(가격x인원), 총 견적가, 입금액, 미수금이 사용자 입력에 따라 실시간으로 화면에 업데이트되어 즉각적인 피드백 제공.

체계적인 진행상황 추적

견적서/계약서, 코드 발급, 보고서 제출 등 주요 마일스톤을 체크박스로 관리.

각 계약의 진행 상태를 시각적으로 명확하게 파악 가능.

지능형 '다음 액션' 추천

미수금 존재 여부, 입금 예정일 경과, 계약서 회수 여부 등 데이터를 분석하여 "미수금 입금 요청 필요", "계약서 회수 확인" 등 다음에 해야 할 일을 자동으로 추천.

3. 화면 기획 (UI/UX)

로그인 페이지 (/login)

심플한 디자인의 이메일, 비밀번호 입력 폼.

회원가입 페이지로 이동하는 링크 제공.

회원가입 페이지 (/signup)

이름, 이메일, 비밀번호, 비밀번호 확인 입력 폼.

메인 대시보드 (/)

상단 (KPI 요약): 월별 총 매출, 총 미수금, 진행중 계약 건수 등 핵심 지표 카드.

중단 (탭 및 컨트롤):

가망, 진행중, 이월, 완료 탭.

+ 새 계약 추가 버튼.

검색창 및 필터 드롭다운.

하단 (계약 그리드):

엑셀과 유사한 테이블 형태로 계약 목록 표시.

주요 컬럼: 상태, 단체명, 담당자, 견적가, 미수금, 다음 액션.

단체명 같은 필드는 클릭 시 바로 수정 가능 (인라인 편집).

각 행(Row)을 클릭하면 상세 모달이 열림.

계약 상세 모달 (메인 대시보드 위에서 열림)

엑셀의 한 행에 대한 모든 정보를 담는 집중된 공간.

왼쪽 섹션 (기본 정보 및 체크리스트):

단체명, 담당자, 연락처, 메모 등 기본 정보 폼.

견적서/계약서, 코드 발급, 보고서 등 상태 체크리스트.

오른쪽 섹션 (프로그램 및 정산):

진행 프로그램 체크박스 그룹.

체크된 프로그램에 대한 상세 입력 폼이 아래에 동적으로 생성됨. (예: 검사 폼, 강연 폼)

입금 예정 목록: + 버튼으로 항목 추가, 날짜/금액 입력, 입금 완료 체크박스.

견적가, 입금액, 미수금이 위에 고정되어 실시간으로 변동되는 것을 확인.

4. 데이터베이스 설계 (PostgreSQL)

users (사용자 테이블)

id (PK, UUID)

name (VARCHAR)

email (VARCHAR, UNIQUE)

password_hash (VARCHAR) - bcrypt로 해싱된 비밀번호 저장

created_at, updated_at

deals (계약 테이블)

id (PK, UUID)

user_id (FK, users.id 참조) - 담당자 연결

company_name (VARCHAR)

manager_name (VARCHAR)

contact_info (JSONB)

status (VARCHAR - PROSPECT, ONGOING, CARRIED_OVER, COMPLETED, HOLD)

memo (TEXT)

checklists (JSONB) - { "quote_status": "final", "contract_retrieved": true, ... }

created_at, updated_at

계산 필드는 DB에 직접 저장하지 않고, 필요시 쿼리 또는 뷰(View)를 통해 계산

services (서비스 항목 테이블)

id (PK, UUID)

deal_id (FK, deals.id 참조)

type (VARCHAR - TEST, LECTURE, CONSULTING, ACTIVITY, ETC, REPORT)

details (JSONB) - 서비스별 유연한 데이터 저장 (버전, 가격, 인원 등)

cost (BIGINT) - details 값을 기반으로 계산된 서비스별 비용

payment_schedules (입금 예정/내역 테이블)

id (PK, UUID)

deal_id (FK, deals.id 참조)

due_date (DATE)

amount (BIGINT)

description (VARCHAR)

is_paid (BOOLEAN, default: false)

5. 기술 아키텍처 및 개발 단계

인증: Next-Auth 라이브러리를 사용하면 회원가입/로그인 및 세션 관리를 쉽고 안전하게 구현할 수 있습니다.

상태 관리: Zustand 또는 Recoil을 사용하여 복잡한 폼 상태와 실시간 계산 로직을 클라이언트 사이드에서 효율적으로 관리합니다.

UI: AG Grid와 같은 전문적인 데이터 그리드 라이브러리를 사용하면 엑셀과 유사한 강력한 그리드(정렬, 필터링, 인라인 편집)를 쉽게 구현할 수 있습니다. Tailwind CSS 또는 MUI로 디자인 시스템을 구축합니다.

개발 로드맵:

Phase 1: 인증 및 기본 환경 구축 (1주)

Next.js 프로젝트 설정, DB 스키마 설계 및 Prisma 연동.

users 테이블 생성 및 Next-Auth를 이용한 회원가입/로그인/세션 기능 구현.

Phase 2: 계약 그리드 및 CRUD 구현 (2주)

메인 대시보드 UI 구현 (AG Grid 또는 유사 라이브러리 도입).

deals 테이블 기준 데이터 조회, 생성, 삭제 기능 개발.

기본적인 인라인 편집 기능 구현.

Phase 3: 동적 상세 폼 및 자동 계산 로직 구현 (2주)

계약 상세 모달 UI 개발.

진행 프로그램 체크 시 동적 폼 생성 기능 구현.

services 및 payment_schedules 연동.

핵심: 견적가, 입금액, 미수금이 실시간으로 계산되는 로직을 프론트엔드 상태 관리와 연동하여 개발.

Phase 4: 고급 기능 및 고도화 (2주)

'다음 액션 추천' 알고리즘 개발.

대시보드 KPI 시각화.

전체적인 사용성 테스트 및 피드백 반영.

Phase 5: 배포 및 안정화 (1주)

Vercel, AWS 등을 통한 배포 및 최종 테스트.

기존 엑셀 데이터 임포트(Import) 기능 개발 (선택 사항).

이 설계안은 요청하신 모든 기능과 "엑셀 같은 편리함"이라는 UX 목표를 충족시키는 데 중점을 두었습니다. 이 계획을 바탕으로 auto_settle 프로젝트를 성공적으로 이끌어 나갈 수 있을 것입니다.